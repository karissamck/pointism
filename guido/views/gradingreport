<!doctype html>
<html>
<head>
    <title> {{assignment}} report for {{student}}</title>
<link type="text/css" href="/static/guido.css" rel="Stylesheet" />
<link type="text/css" href="/static/css/ui-lightness/jquery-ui-1.8.12.custom.css" rel="Stylesheet" />   
<link rel="stylesheet" href="/static/css/jquery.qtip.css" type="text/css" />
<script type="text/javascript" src="/static/js/jquery-1.5.1.min.js"></script>
<script type="text/javascript" src="/static/js/qtip/jquery.qtip-1.0.0-rc3.min.js"></script>
<script type="text/javascript" src="/static/js/jquery-ui-1.8.12.custom.min.js"></script>
<script type="text/javascript">
    $(function() {
	$(".existingcomment").each(function() {
	    var linenumber = $(this).attr("value"),
	    student = "{{student}}",
	    assignment = "{{assignment}}";
	    $(this).qtip({
	    content: { prerender: false,
		       url: '/grading/viewcomments',
		       data: { linenumber: linenumber,
			       student: student,
			       assignment: assignment,
			       report: "True"
			     },
		       title: { text: linenumber + ': comment',
				button: 'close' 
			      }	
	     },
		position: {
		    corner: {
			target: 'bottomLeft',
			tooltip: 'rightMiddle'
		    }
		},
		style: {
		    width: 300,
		    padding: 5,
		    textAlign:'left',
		    tip: 'rightMiddle',
		},
		show: { solo: false, ready: true, when: 'click'},
		hide: { when: 'never' }
	    });
	});
    });
</script>
</head>
<body>
<div id="reportContainer">
<h4 class="section-title" style="text-align:center">hello {{student}}</h4>
<div id="report">
     <h4 class="section-title">Grade for {{assignment}}</h4>
     {{grade}}
      <h4 class="section-title">Autograder Report</h4>
        %if autograder=='' or autograder==None:
        No output.
        %else:
        {{autograder}}
        %end


<h4 class="section-title">Your Submission</h4><div class="existingcomments">
%for line in linenumbers:
%if existingcomments and type(line) is int and existingcomments.get(int(line)):
<span class="existingcomment" value="{{line}}" href="#"><img src="/static/images/speech_bubble_icon.png" /></span>
%else:
  
%end 
%end
</div><div id="linenumbers" class="linenumbers">
%for line in linenumbers:
{{line}}
%end
</div>
{{source}}</div>
</div>
</body>
</html>
